<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Create Apartment Listing</title>
  <link rel="stylesheet" href="{{ url_for('static', filename='css/landLordNav.css') }}">
  <link rel="stylesheet" href="{{ url_for('static', filename='css/footer.css') }}">
  <link rel="stylesheet" href="{{ url_for('static', filename='css/ApartmentCreation.css') }}">

  <!-- Select2 Dropdown CSS -->
  <link href="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/css/select2.min.css" rel="stylesheet" />
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/js/select2.min.js"></script>
</head>
<body>

  <!-- Navbar -->
  <nav class="navbar">
    <div class="navbar-container">
      <div class="logo">
        <a href="{{ url_for('index_views.index_page') }}">
          <img src="{{ url_for('static', filename='images/Logo.png') }}" alt="Logo" class="logo-img">
          <span class="logo-text">AptReview</span>
        </a>
      </div>
      <ul class="nav-links">
        <li><a href="{{ url_for('index_views.index_page') }}">Home</a></li>
        <li><a href="{{ url_for('apartment_views.apartments_listing') }}">View Listings</a></li>
        <li><a href="{{ url_for('apartment_views.create_apartment_page') }}">Create Listing</a></li>
        <li><a href="{{ url_for('auth_views.logout_action') }}">Sign Out</a></li>
      </ul>
    </div>
  </nav>

  <!-- Main Content -->
  <main>
    <h2>Create Apartment Listing</h2>
    <div class="form-container">
      {% with messages = get_flashed_messages() %}
        {% if messages %}
          <div class="flash-messages">
            {% for message in messages %}
              <div class="flash-message">{{ message }}</div>
            {% endfor %}
          </div>
        {% endif %}
      {% endwith %}
      <form action="{{ url_for('apartment_views.create_apartment_action') }}" method="POST" enctype="multipart/form-data">
        <div class="form-row">
          <div class="form-group">
            <label>Apartment Title</label>
            <input type="text" name="title" placeholder="e.g. Cozy 2BR in Westside" required>
          </div>
          <div class="form-group">
            <label>Price (Monthly)</label>
            <input type="number" name="price" placeholder="e.g. 1500" required>
          </div>
        </div>

        <div class="form-row">
          <div class="form-group">
            <label>Bedrooms</label>
            <input type="number" name="bedrooms" placeholder="e.g. 2" required>
          </div>
          <div class="form-group">
            <label>Bathrooms</label>
            <input type="number" name="bathrooms" placeholder="e.g. 1.5" required>
          </div>
        </div>

        <div class="form-row">
          <div class="form-group">
            <label>Address</label>
            <input type="text" name="address" placeholder="e.g. 123 Main St" required>
          </div>
          <div class="form-group">
            <label>City</label>
            <input type="text" name="city" placeholder="e.g. Port of Spain" required>
          </div>
        </div>

        <div class="form-row full-width">
          <div class="form-group">
            <label>Description</label>
            <textarea name="description" rows="4" placeholder="Describe your apartment"></textarea>
          </div>
        </div>

        <div class="form-row">
          <div class="form-group">
            <label>Amenities</label>
            <div class="amenities-container">
              <div class="amenity-item">
                <input type="checkbox" id="wifi" name="amenities" value="WiFi">
                <label for="wifi">WiFi</label>
              </div>
              <div class="amenity-item">
                <input type="checkbox" id="ac" name="amenities" value="Air Conditioning">
                <label for="ac">Air Conditioning</label>
              </div>
              <div class="amenity-item">
                <input type="checkbox" id="parking" name="amenities" value="Parking">
                <label for="parking">Parking</label>
              </div>
              <div class="amenity-item">
                <input type="checkbox" id="laundry" name="amenities" value="Laundry">
                <label for="laundry">Laundry</label>
              </div>
              <div class="amenity-item">
                <input type="checkbox" id="pool" name="amenities" value="Pool">
                <label for="pool">Pool</label>
              </div>
              <div class="amenity-item">
                <input type="checkbox" id="gym" name="amenities" value="Gym">
                <label for="gym">Gym</label>
              </div>
              <div class="amenity-item">
                <input type="checkbox" id="security" name="amenities" value="Security">
                <label for="security">Security</label>
              </div>
              <div class="amenity-item">
                <input type="checkbox" id="furnished" name="amenities" value="Furnished">
                <label for="furnished">Furnished</label>
              </div>
            </div>
          </div>
        </div>

        <div class="form-row">
          <div class="form-group">
            <label>Cover Photo (Main Image)</label>
            <div class="file-upload-container">
              <input type="file" name="cover_image" accept="image/*" class="file-upload" required>
              <div class="file-upload-info">
                <p>This will be the main image shown on the listings page</p>
                <p>Recommended size: 1200 x 800 pixels</p>
              </div>
              <div id="cover-image-preview" class="image-preview"></div>
            </div>
          </div>
        </div>

        <div class="form-row">
          <div class="form-group">
            <label>Additional Images (Optional)</label>
            <div class="file-upload-container">
              <input type="file" name="additional_images" multiple accept="image/*" class="file-upload">
              <div class="file-upload-info">
                <p>Upload up to 4 additional images (JPG, PNG)</p>
                <p>These will be visible in the detailed view</p>
              </div>
              <div id="additional-images-preview" class="images-preview-container"></div>
            </div>
          </div>
        </div>

        <div class="form-row">
          <button type="submit">Create Listing</button>
        </div>
      </form>
    </div>
  </main>

  <!-- Footer -->
  <footer class="footer">
    <p>&copy; 2025 AptReview. All rights reserved.</p>
  </footer>

  <!-- JavaScript file -->
  <script src="{{ url_for('static', filename='Javascript/ApartmentCreation.js') }}"></script>

</body>
</html>
